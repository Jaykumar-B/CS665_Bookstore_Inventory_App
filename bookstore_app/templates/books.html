<!DOCTYPE html>
<html>
<head>
  <title>Books</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <h1>Book List</h1>

  <!-- Add New Book -->
  <form method="POST" style="margin-bottom: 20px;">
    <input type="text" name="title" placeholder="Title" required>
    <input type="text" name="author_name" placeholder="Author" required>
    <input type="text" name="category_name" placeholder="Category" required>
    <input type="number" step="0.01" name="price" placeholder="Price" required>
    <input type="number" name="quantity" placeholder="Quantity" required>
    <button type="submit">Add Book</button>
  </form>

  <!-- Book Table -->
  <table border="1">
    <tr>
      <th>Title</th>
      <th>Author</th>
      <th>Category</th>
      <th>Price</th>
      <th>Quantity</th>
      <th>Actions</th>
    </tr>
    {% for b in books %}
    <tr>
      <form action="/update_book_details/{{ b.id }}" method="POST">
        <td>{{ b.title }}</td>
        <td><input type="text" name="author_name" value="{{ b.author_name }}" required></td>
        <td><input type="text" name="category_name" value="{{ b.category_name }}" required></td>
        <td><input type="number" step="0.01" name="price" value="{{ b.price }}" required></td>
        <td><input type="number" name="quantity" value="{{ b.quantity }}" required></td>
        <td>
          <button type="submit">Update</button> |
          <a href="/delete_book/{{ b.id }}">Delete</a>
        </td>
      </form>
    </tr>
    {% endfor %}
  </table>

  <br>
  <a href="/">Back to Dashboard</a>
</body>
</html>
